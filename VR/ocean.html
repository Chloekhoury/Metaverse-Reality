<!DOCTYPE html>
<html>
  <head>
    <title>Ocean Virtual Reality</title>
    <script src="https://aframe.io/releases/1.1.0/aframe.min.js"></script>
    <script src="https://cdn.rawgit.com/matthewbryancurtis/aframe-star-system-component/db4f1030/index.js"></script>
    <script src="./ocean.js"></script>
    <link rel="stylesheet" href="../style.css">
    <link rel="stylesheet" href="ocean.css">

    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500&display=swap" rel="stylesheet">
    <script src="./whales.js" defer></script>

    <!-- Google Analytics -->
    <script>
      (function(i, s, o, g, r, a, m)
      {
        i['GoogleAnalyticsObject'] = r;
        i[r] = i[r] || function()
        {
          (i[r].q = i[r].q || []).push(arguments)
        }, i[r].l = 1 * new Date();
        a = s.createElement(o),
          m = s.getElementsByTagName(o)[0];
        a.async = 1;
        a.src = g;
        m.parentNode.insertBefore(a, m)
      })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');
      ga('create', 'UA-32800241-3', 'alvinwan.com');
      ga('send', 'pageview');
    </script>
  </head>
  <body>
    <audio id="background-music" autoplay loop>
  <source src="../song.mp3" type="audio/mp3" />
  Your browser does not support the audio element.
</audio>
    <a-scene fog="type: linear; color: #0e1417; near:5; far: 300">
      <a-sky color="#0e1417"></a-sky>
      <a-entity star-system="radius: 200; depth: 100"></a-entity>
      
<a-entity id="whales-container"></a-entity>



      <!-- Mixins -->
      <a-assets>
        <a-mixin id="foliage" geometry="
            primitive: cone;
            segments-height: 1;
            segments-radial:4;
            radius-bottom:0.3;"
           material="color:white;flat-shading: true;"></a-mixin>
        <a-mixin id="trunk" geometry="
            primitive: box;
            height:0.5;
            width:0.1;
            depth:0.1;"
           position="0 -0.5 0"
           material="color:white;"></a-mixin>
      </a-assets>

      <!-- Lights! Original blue: #D0EAF9 -->
      <a-entity light="
          type: directional;
          castShadow: true;
          intensity: 0.3;
          color: #638691;"
        position="5 3 1"></a-entity>
      <a-light intensity="0.1" type="ambient" position="1 1 1" color="#B4C5EC"></a-light>

<a-entity id="whales-container"></a-entity>

          <a-entity id="rig" position="0 -0.5 2">
      <a-camera 
        wasd-controls 
        look-controls 
        raycaster="objects: .clickable"
        cursor="rayOrigin: mouse"
      ></a-camera>
    </a-entity>

    <!-- Container for your whales -->
    <!-- <a-entity id="whales-container"></a-entity> -->


      <!-- Action! -->
      <a-cylinder shadow class="iceberg" segments-radial="5" segments-height="1" height="0.5" radius="0.35" position="3 -0.1 -1.5"
                  animation__rot="property: rotation; from: -5 0 0; to: 5 0 0; loop: true; dir: alternate"
                  animation__pos="property: position; from: 3 -0.2 -1.5; to: 4 -0.2 -2.5; loop: true; dir: alternate; dur: 12000; elasticity: 0">
      </a-cylinder>
      <a-cylinder shadow class="iceberg" segments-radial="7" segments-height="1" height="0.5" radius="0.25" position="-3 -0.1 -0.5"
                  animation__rot="property: rotation; from: 0 0 -5; to: 5 0 0; loop: true; dir: alternate; dur: 1500"
                  animation__pos="property: position; from: -4 -0.2 -0.5; to: -2 -0.2 -0.5; loop: true; dir: alternate; dur: 15000; elasticity: 0">
      </a-cylinder>
      <a-cylinder shadow class="iceberg" segments-radial="6" segments-height="1" height="0.5" radius="0.25" position="-5 -0.2 -3.5"
                  animation__rot="property: rotation; from: 5 0 -5; to: 5 0 0; loop: true; dir: alternate; dur: 800"
                  animation__pos="property: position; from: -3 -0.2 -3.5; to: -5 -0.2 -5.5; loop: true; dir: alternate; dur: 15000; elasticity: 0">
      </a-cylinder>
      <a-ocean shadow depth="50" width="50" amplitude="0" amplitude-variance="0.1" speed="1.5" speed-variance="1" opacity="1" density="50" color="#5f8496"></a-ocean>
      <a-ocean shadow depth="50" width="50" opacity="0.5" amplitude="0" amplitude-variance="0.15" speed="1.5" speed-variance="1" density="50" color="#5f8496"></a-ocean>
      <a-sphere shadow scale="2 2 2" position="0 -3.5 -1.5" radius="2">
        <a-entity position="0 1.5 0">

          <a-entity class="tree" shadow position="0 1.1 -0.2" rotation="-5 0 0">
            <a-entity mixin="foliage"></a-entity>
            <a-entity mixin="trunk"></a-entity>
          </a-entity>

          <a-entity class="tree" shadow scale="0.75 0.75 0.75" position="-0.5 0.9 0" rotation="0 -50 10">
            <a-entity mixin="foliage"></a-entity>
            <a-entity mixin="trunk"></a-entity>
          </a-entity>

          <a-entity class="tree" shadow scale="0.75 0.75 0.75" position="0.5 0.9 0" rotation="0 -30 -10">
            <a-entity mixin="foliage"></a-entity>
            <a-entity mixin="trunk"></a-entity>
          </a-entity>

          <a-entity class="tree" shadow scale="0.5 0.5 0.5" position="0.2 0.8 0.15" rotation="0 20 0">
            <a-entity mixin="foliage"></a-entity>
            <a-entity mixin="trunk"></a-entity>
          </a-entity>

          <a-entity class="tree" shadow scale="0.4 0.3 0.5" position="-0.2 0.7 0.15" rotation="-5 10 5">
            <a-entity mixin="foliage"></a-entity>
            <a-entity mixin="trunk"></a-entity>
          </a-entity>

          <a-entity class="tree" shadow scale="0.4 0.6 0.5" position="-0.7 0.75 0.3" rotation="0 10 10">
            <a-entity mixin="foliage"></a-entity>
            <a-entity mixin="trunk"></a-entity>
          </a-entity>

          <a-entity class="tree" shadow scale="0.6 0.5 0.4" position="0.7 0.7 0.3" rotation="0 -10 -10">
            <a-entity mixin="foliage"></a-entity>
            <a-entity mixin="trunk"></a-entity>
          </a-entity>

          <a-entity class="bench" scale="0.8 0.8 0.8" position="0.25 0.52 0.4" rotation="0 -30 -10">
            <a-cylinder rotation="0 0 90" radius="0.1" height="0.5" theta-start="180" theta-length="180">
              <a-plane rotation="0 90 0" height="0.5" width="0.2"></a-plane>
            </a-cylinder>
            <a-cylinder position="0.18 -0.1 0" radius="0.04" rotation="90 0 0" height="0.2"></a-cylinder>
            <a-cylinder position="-0.18 -0.1 0" radius="0.04" rotation="90 0 0" height="0.2"></a-cylinder>
          </a-entity>

          <a-entity class="bench" scale="0.8 0.8 0.8" position="-0.3 0.52 0.4" rotation="0 20 10">
            <a-cylinder rotation="0 0 90" radius="0.1" height="0.5" theta-start="180" theta-length="180">
              <a-plane rotation="0 90 0" height="0.5" width="0.2"></a-plane>
            </a-cylinder>
            <a-cylinder position="0.18 -0.1 0" radius="0.04" rotation="90 0 0" height="0.2"></a-cylinder>
            <a-cylinder position="-0.18 -0.1 0" radius="0.04" rotation="90 0 0" height="0.2"></a-cylinder>
          </a-entity>
          </a-entity>
      </a-sphere>

    </a-scene>
<div id="info-panel" style="
  position: absolute;
  top: 20px;
  right: 20px;   /* <-- This ensures it's on the right */
  background: rgba(20, 20, 20, 0.9);
  color: #f8f8f8;
  padding: 15px 20px;
  border-radius: 10px;
  font-family: 'Orbitron', sans-serif;
  width: 200px;
  height: 200px;
  font-size: 14px;
  display: none;
  z-index: 999;
  line-height: 1.7;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.6);
  border: 1px solid rgba(255, 255, 255, 0.1);
  overflow-y: auto;
  overflow-x: hidden;
  word-wrap: break-word;
">
  <button onclick="document.getElementById('info-panel').style.display='none'" style="
    float: right;
    background: transparent;
    border: none;
    color: #aaa;
    font-size: 16px;
    cursor: pointer;
    margin: -5px -5px 0 0;
  ">âœ•</button>
  <div id="info-content"></div>
</div>





    <div id="exit-button" onclick="window.location.href='../explore.html'">
  Exit VR World
</div>
<div id="vr-instruction">
  Feel free to move around the ocean &amp; click on each blue fish you find to view the info about it.
</div>
  </body>
</html>